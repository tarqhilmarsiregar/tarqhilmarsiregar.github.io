{"version":3,"file":"app~233537cc.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/like-button-initiator.js","webpack://restaurant-apps/./src/scripts/routes/routes.js","webpack://restaurant-apps/./src/scripts/routes/url-parser.js","webpack://restaurant-apps/./src/scripts/sw-register.js"],"sourcesContent":["import 'regenerator-runtime';\r\nimport FavoriteRestaurantIdb from './data/favorite-restaurant-idb';\r\n\r\nconst LikeButtonInitiator = {\r\n  async init({ LikeButtonContainer, restaurant }) {\r\n    this._likeButtonContainer = LikeButtonContainer;\r\n    this._restaurant = restaurant;\r\n\r\n    await this._renderButton();\r\n  },\r\n\r\n  async _renderButton() {\r\n    const { id } = this._restaurant;\r\n\r\n    if (await this._isRestaurantExist(id)) {\r\n      this._renderFavorited();\r\n    } else {\r\n      this._renderFavorite();\r\n    }\r\n  },\r\n\r\n  async _isRestaurantExist(id) {\r\n    const restaurant = await FavoriteRestaurantIdb.getRestaurant(id);\r\n    return !!restaurant;\r\n  },\r\n\r\n  _renderFavorite() {\r\n    this._likeButtonContainer.innerHTML = '<img class=\"favoriteButton\" src=\"./images/favorite.png\" alt=\"favorite\" aria-label=\"favorite this restaurant\">';\r\n\r\n    this._likeButtonContainer.addEventListener('click', async () => {\r\n      await FavoriteRestaurantIdb.putRestaurant(this._restaurant);\r\n      this._renderButton();\r\n    });\r\n\r\n    this._likeButtonContainer.addEventListener('keypress', async (event) => {\r\n      if (event.keyCode === 13) {\r\n        await FavoriteRestaurantIdb.putRestaurant(this._restaurant);\r\n        this._renderButton();\r\n      }\r\n    });\r\n  },\r\n\r\n  _renderFavorited() {\r\n    this._likeButtonContainer.innerHTML = '<img class=\"favoriteButton\" src=\"./images/favorite2.png\" alt=\"favorited\" aria-label=\"unfavorite this restaurant\">';\r\n\r\n    this._likeButtonContainer.addEventListener('click', async () => {\r\n      await FavoriteRestaurantIdb.deleteRestaurant(this._restaurant.id);\r\n      this._renderButton();\r\n    });\r\n\r\n    this._likeButtonContainer.addEventListener('keypress', async (event) => {\r\n      if (event.keyCode === 13) {\r\n        await FavoriteRestaurantIdb.deleteRestaurant(this._restaurant.id);\r\n        this._renderButton();\r\n      }\r\n    });\r\n  },\r\n};\r\n\r\nexport default LikeButtonInitiator;\r\n","// import RestaurantList from '../views/pages/restaurant-list';\r\nimport Home from '../views/pages/home';\r\nimport Favorite from '../views/pages/favorite';\r\nimport Detail from '../views/pages/detail';\r\n\r\nconst routes = {\r\n  '/': Home, // default page\r\n  '/home': Home,\r\n  '/favorite': Favorite,\r\n  '/detail/:id': Detail,\r\n};\r\n\r\nexport default routes;\r\n","const UrlParser = {\r\n  parseActiveUrlWithCombiner() {\r\n    const url = window.location.hash.slice(1).toLowerCase();\r\n    const splitedUrl = this._urlSplitter(url);\r\n    return this._urlCombiner(splitedUrl);\r\n  },\r\n\r\n  parseActiveUrlWithoutCombiner() {\r\n    const url = window.location.hash.slice(1).toLowerCase();\r\n    return this._urlSplitter(url);\r\n  },\r\n\r\n  _urlSplitter(url) {\r\n    const urlsSplits = url.split('/');\r\n    return {\r\n      resource: urlsSplits[1] || null,\r\n      id: urlsSplits[2] || null,\r\n      verb: urlsSplits[3] || null,\r\n    };\r\n  },\r\n\r\n  _urlCombiner(splitedUrl) {\r\n    return (splitedUrl.resource ? `/${splitedUrl.resource}` : '/')\r\n    + (splitedUrl.id ? '/:id' : '')\r\n    + (splitedUrl.verb ? `/${splitedUrl.verb}` : '');\r\n  },\r\n};\r\n\r\nexport default UrlParser;\r\n","import * as WorkboxWindow from 'workbox-window';\r\n\r\nconst swRegister = async () => {\r\n  if (!('serviceWorker' in navigator)) {\r\n    console.log('Service Worker not supported in the browser');\r\n    return;\r\n  }\r\n\r\n  const wb = new WorkboxWindow.Workbox('./sw.bundle.js');\r\n\r\n  try {\r\n    await wb.register();\r\n    console.log('Service Worker Registered');\r\n  } catch (error) {\r\n    console.log('Failed to register service worker', error);\r\n  }\r\n};\r\n\r\nexport default swRegister;\r\n"],"names":["i","init","LikeButtonContainer","restaurant","_likeButtonContainer","_restaurant","_renderButton","id","_isRestaurantExist","_renderFavorited","_renderFavorite","FavoriteRestaurantIdb","this","innerHTML","addEventListener","event","keyCode","Home","Favorite","Detail","parseActiveUrlWithCombiner","url","window","location","hash","slice","toLowerCase","splitedUrl","_urlSplitter","_urlCombiner","parseActiveUrlWithoutCombiner","urlsSplits","split","resource","verb","navigator","console","log","wb","WorkboxWindow","register"],"sourceRoot":""}